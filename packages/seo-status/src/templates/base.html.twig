<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>{% block title %}{{ title|default('SeoStatus') }}{% endblock %}</title>
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name=viewport>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ§¶</text></svg>">

    {% block stylesheets %}
      {{ encore_entry_link_tags('app') }}
      {{ encore_entry_link_tags('style') }}
    {% endblock %}

    {% block javascripts %}
      {{ encore_entry_script_tags('app', attributes = {defer: true}) }}
    {% endblock %}
  </head>
  <body
    class="flex flex-wrap items-stretch text-gray-900 bg-white"
    x-data="{ navbarOpen: false }">

    <div class="order-3 w-full">{% block body %}{% endblock %}</div>

    <div class="order-4 w-full">{% block footer %}{% endblock %}</div>

    {% block navbar %}
    <div
      class="absolute w-full h-full top-0 z-40 order-12 md:hidden"
      :class="{ 'bg-white opacity-75' : navbarOpen , 'hidden' : !navbarOpen}">
    </div>

    <nav
          class="flex items-center justify-between flex-wrap p-6 pr-12 w-full relative z-50 order-1 bg-white {{ search_value is defined ? 'shadow' : '' }} mb-6"
          @keydown.escape="navbarOpen = false"
          @click.away="navbarOpen = false"
          :class="{ 'shadow-md md:shadow' : navbarOpen }"
        >

      <div class="flex items-center flex-shrink-0 text-gray-800 mr-6">
        <a
          class="hover:text-gray-500 py-2"
          href="/"
        >
          <span class="text-4xl block absolute top-0 left-0 mt-6 ml-4">ðŸ§¶</span>
          <span class="text-lg pl-10">Seo tatus</span
          >
        </a>
      </div>

      <button
        @click="navbarOpen = ! navbarOpen"
        type="button"
        class="absolute z-50 right-0 top-0 mt-8 block px-3 mr-2 text-gray-800 hover:text-gray-600 focus:outline-none focus:text-gray-600"
        :class="{ 'transition transform-180': navbarOpen }"
      >
        <svg
          class="h-6 w-6 fill-current"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
        >
          <path
            x-show="navbarOpen"
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M18.278 16.864a1 1 0 0 1-1.414 1.414l-4.829-4.828-4.828 4.828a1 1 0 0 1-1.414-1.414l4.828-4.829-4.828-4.828a1 1 0 0 1 1.414-1.414l4.829 4.828 4.828-4.828a1 1 0 1 1 1.414 1.414l-4.828 4.829 4.828 4.828z"
          />
          <path
            x-show="!navbarOpen"
            fill-rule="evenodd"
            d="M4 5h16a1 1 0 0 1 0 2H4a1 1 0 1 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2z"
          />
        </svg>
      </button>

      <div
        class="w-full"
        x-show.transition="true"
        :class="{ 'block shadow-3xl md:max-w-md md:absolute md:right-0 md:top-0 md:h-screen md:overflow-auto md:bg-white md:shadow-lg'
          : navbarOpen, 'hidden md:flex md:items-center md:w-auto': ! navbarOpen }"
      >
        <ul
          class="pt-6 list-reset justify-end flex-1 items-center"
          :class="{ '' : navbarOpen, 'md:flex md:pt-0': ! navbarOpen }"
        >

          <li class="mr-3">
            <a
              class="inline-block text-gray-900 no-underline hover:text-gray-500 py-2 px-4"
              href="#"
              @click="navbarOpen = false"
              >
                NavbarLink
            </a>
          </li>
          <li class="mr-3"
             :class="{ 'block' : navbarOpen, 'hidden': ! navbarOpen }">
            <a
              class="inline-block text-gray-900 no-underline hover:text-gray-500 py-2 px-4"
              href="#"
              @click="navbarOpen = false"
              >
                NavbarLink in Hamburger
            </a>
          </li>
        </ul>
      </div>
    </nav>
    {% endblock %}

    <div class="order-2 w-full">
      {% block searchbar %}
        {% include 'searchbar.html.twig' %}
      {% endblock %}
    </div>
  </body>
</html>

{% macro renderTooltip(text, tooltip_text, extra_class = 'text-sky-600 focus:text-gray-400 ', tooltip_extra_class = '', extra_attributes = '') %}
  <button
    class="has-tooltip focus:outline-none inline-block relative {{ extra_class }}"
    @mousedown="
      event.preventDefault();
      var btn = event.target.closest('button');
      btn !== document.activeElement ? btn.focus() : btn.blur()"
    {{ extra_attributes|raw }}>
    <span
      class="tooltip w-max max-w-[90vw] inline-block rounded shadow p-2 bg-gray-50 text-gray-800 text-left top-0 -translate-y-[102%] -translate-x-1/2 left-1/2 {{ tooltip_extra_class }}">
      {{ tooltip_text|raw }}
    </span>
    {{ text|raw }}
  </button>
{% endmacro %}

{% macro renderSearchResultUrl(searchResult, showScheme = true) %}
  <a
    href="{{ path('searchListForHostRoute', {'host': searchResult.url.host}) }}"
    class="text-sky-800 tracking-wider">
    {{ searchResult.url.host }}
  </a><br>
  <a href="{{ searchResult.url }}" rel="noopener" target="_blank" class="text-sm inline-block mr-2">
    <i class="fa-solid fa-arrow-up-right-from-square text-gray-400"></i>
  </a>
  <a href="#"
    class="font-thin text-sky-600 tracking-widest">
    {% if showScheme %}<span class="inline-block">{{ searchResult.url.scheme }}://</span><span class="inline-block max-w-[3ch] truncate -mb-2">{{ searchResult.url.host }}</span>{% endif %}<span class="inline-block max-w-[50ch] truncate -mb-2 font-light">/{{ searchResult.uri }}
  </a>
{% endmacro %}

{% macro renderFeature(
    feature,
    icon_title = null,
    icon_wrapper_class = null,
    feature_label_class = null,
    icon_class = null
  ) %}
  {% set icon_wrapper = '<span
    class="' ~ (icon_wrapper_class|default('text-center inline-block bg-sky-100 mr-1 rounded-full w-8 h-8')) ~ '"
    title="' ~ icon_title|default(feature)|e ~ '">
    <i class="fa-solid fa-%icon% ' ~ (icon_class|default('text-sky-900 text-sm') ~'"></i></span>') %}

    {% set feature = serp_feature(feature) %}
     {{ icon_wrapper|replace({'%icon%': feature.icon})|raw }} <span class="{{ feature_label_class|default('hidden sm:inline-block') }}">{{ feature.label }}</span>
{% endmacro %}
